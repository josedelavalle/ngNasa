var app=angular.module("myApp",["ngRoute","ngAnimate","ngAria","ngMessages","ngMaterial","material.svgAssetsCache","angularMoment"]);app.config(["$routeProvider","$locationProvider","$mdDateLocaleProvider",function(t,e,n){n.formatDate=function(t){return moment(t).format("YYYY-MM-DD")},e.html5Mode(!0),t.when("/",{templateUrl:"views/home.html"}).when("/1",{templateUrl:"views/left-sidebar.html"}).when("/2",{templateUrl:"views/right-sidebar.html"}).when("/3",{templateUrl:"views/two-sidebar.html"}).when("/4",{templateUrl:"views/no-sidebar.html"}).otherwise({redirectTo:"/"})}]),app.controller("appController",["$scope","$filter","getPicOfTheDay","getSounds","getEpic","getMars","getImagery","getCoordinates","geolocationSvc",function(t,e,n,a,o,r,i,c,s){function l(t){return e("date")(t,"yyyy-MM-dd")}function g(e){n.get(e).then(function(e){t.data=e.data,console.log(t.data)})}t.title=e("date")(new Date,"yyyy-MM-dd"),t.todayDate=t.title,console.log(t.todayDate),t.currentDate=new Date,t.mypics=["images/pic01.jpg","images/pic02.jpg","images/pic03.jpg"],console.log(t.mypics),t.dateChanged=function(){t.myDate=l(this.myDate),t.title=t.myDate,checkToday(),g(t.title)},checkToday=function(){t.title!=t.todayDate?t.notToday=!0:t.notToday=!1},t.myDate=new Date,t.minDate=new Date(t.myDate.getFullYear(),t.myDate.getMonth()-2,t.myDate.getDate()),t.maxDate=new Date(t.myDate.getFullYear(),t.myDate.getMonth(),t.myDate.getDate()),t.onlyWeekendsPredicate=function(t){var e=t.getDay();return 0===e||6===e},t.pageTitle="Picture of the Day",t.headerTitle="Jose DeLavalle",t.defaultSearch="New York",t.rotate=!0,t.rotateIcon=function(){t.rotate=!t.rotate},t.goBack=function(){t.currentDate.setDate(t.currentDate.getDate()-1),t.title=l(t.currentDate),t.myDate=t.currentDate,checkToday(),g(t.title)},t.goForward=function(){t.currentDate.setDate(t.currentDate.getDate()+1),t.title=l(t.currentDate),t.myDate=t.currentDate,checkToday(),g(t.title)},g(t.title),a.get().then(function(e){t.soundData=e.data.results,console.log(t.soundData)}),o.get().then(function(e){t.epic=e.data,console.log(t.epic)}),r.get().then(function(e){t.mars=e.data.photos,console.log(t.mars)});t.goGetCoordinates=function(e){t.imagery={date:"Searching"},c.get(e).then(function(e){console.log(e),t.coordinates=e.data.results[0].geometry.location,console.log(t.coordinates),i.get(t.coordinates.lat,t.coordinates.lng,t.title).then(function(e){t.imagery=e.data,console.log(t.imagery)})})},t.getUserLocation=function(){t.imagery={date:"Searching"},s.getCurrentPosition().then(function(e){console.log(e),t.coordinates={lat:e.coords.latitude,lng:e.coords.longitude},i.get(t.coordinates.lat,t.coordinates.lng,"2016-01-01").then(function(e){t.imagery=e.data},function(e){t.imagery={date:e}})},function(e){console.log(e.message),t.imagery={date:e.message}})}}]),app.factory("getPicOfTheDay",function(t){return{get:function(e){return t.get("https://api.nasa.gov/planetary/apod?date="+e+"&api_key=sFBD6hSaJ9HBP6U8qhXaBv6v9pKcTYtICStGJlOA")}}}),app.factory("getSounds",function(t){return{get:function(){return t.get("./assets/sounds.json")}}}),app.factory("getEpic",function(t){return{get:function(){return t.get("http://epic.gsfc.nasa.gov/api/images.php")}}}),app.factory("getMars",function(t){return{get:function(){return t.get("https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?earth_date=2015-6-3&api_key=sFBD6hSaJ9HBP6U8qhXaBv6v9pKcTYtICStGJlOA")}}}),app.factory("getImagery",function(t){return{get:function(e,n,a){var o="https://api.nasa.gov/planetary/earth/imagery?lon="+n+"&lat="+e+"&date="+a+"&cloud_score=True&api_key=sFBD6hSaJ9HBP6U8qhXaBv6v9pKcTYtICStGJlOA";return console.log(o),t.get(o)}}}),app.factory("getCoordinates",function(t){return{get:function(e){return t.get(encodeURI("http://maps.googleapis.com/maps/api/geocode/json?address="+e))}}}),app.factory("geolocationSvc",["$q","$window",function(t,e){"use strict";function n(){var n=t.defer();return e.navigator.geolocation?e.navigator.geolocation.getCurrentPosition(function(t){n.resolve(t)},function(t){console.log(t),n.reject(t)}):n.reject("Geolocation not supported."),n.promise}return{getCurrentPosition:n}}]),app.directive("slideable",function(){return{restrict:"C",compile:function(t,e){var n=t.html();return t.html('<div class="slideable_content" style="margin:0 !important; padding:0 !important" >'+n+"</div>"),function(t,e,n){n.duration=n.duration?n.duration:"1s",n.easing=n.easing?n.easing:"ease-in-out";var a="0px";if(!n.showonload){var o=content.clientHeight;a=o+"px"}e.css({overflow:"hidden",height:a,transitionProperty:"height",transitionDuration:n.duration,transitionTimingFunction:n.easing,background:"rgba(0, 0, 0, 0)"})}}}}),app.directive("slideToggle",function(){return{restrict:"A",link:function(t,e,n){var a,o;n.expanded="true"===n.expanded,e.bind("click",function(t){if(n.slideToggle?a||(a=document.querySelector(n.slideToggle)):a||(a=$(this).parent().find(".slideable")[0]),o||(o=a.querySelector(".slideable_content")),n.expanded)a.style.height="0px";else{o.style.border="1px solid rgba(0,0,0,0)";var e=o.clientHeight;o.style.border=0,a.style.height=e+"px"}n.expanded=!n.expanded})}}}),app.directive("myEnter",function(){return function(t,e,n){e.bind("keydown keypress",function(e){13===e.which&&(t.$apply(function(){t.$eval(n.myEnter)}),e.preventDefault())})}});